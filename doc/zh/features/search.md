# 全文搜索

Bonds 内置基于 [Bleve](https://blevesearch.com/) 的全文搜索引擎，支持中英文混合搜索。

## 索引内容

| 实体 | 索引字段 |
|------|---------|
| **联系人** | 名、姓、昵称 |
| **笔记** | 标题、正文 |

搜索索引增量更新 — 每当你创建、更新或删除联系人或笔记时，索引会自动同步。

## CJK 支持

Bonds 使用 CJK 分析器作为默认分析器，中文、日文和韩文文本能被正确分词。你可以无缝搜索中文姓名或笔记内容，也可以同时搜索英文内容。

## 搜索隔离

搜索结果限定在当前 Vault 范围内。无论你有多少个 Vault 的访问权限，搜索只会返回当前 Vault 中的联系人和笔记。

## 配置

| 变量 | 默认值 | 说明 |
|------|--------|------|
| `BLEVE_INDEX_PATH` | `data/bonds.bleve` | 搜索索引存储目录 |

搜索索引存储在磁盘上，服务器重启后保留。如果删除索引目录，下次启动时会自动重建。

## 降级

如果 Bleve 未配置或初始化失败，Bonds 会降级使用空操作搜索引擎。应用正常运行，但搜索不会返回结果。
