# 更多功能

## 审计日志（动态）

Bonds 记录所有联系人相关变更的动态，提供完整的审计追踪：

- 联系人创建、更新、删除
- 笔记添加、编辑、移除
- 提醒创建、触发
- 任务、礼物、债务、活动等实体变更

动态可通过 `GET /api/vaults/:vault_id/feed` 按 Vault 查看，展示谁在什么时间做了什么操作。

## 地理编码

Bonds 可以对地址进行地理编码以获取经纬度坐标。支持两个服务提供商：

| 提供商 | 费用 | 配置 |
|--------|------|------|
| **Nominatim** | 免费（OSM） | 无需 API Key |
| **LocationIQ** | 免费增值 | 需要 API Key |

地址创建时异步进行地理编码。如果编码失败，地址仍会保存 — 只是坐标为空。

在管理面板中配置提供商和 API Key。

## Telegram 通知 {#telegram-通知}

通过 Telegram 接收提醒通知：

### 设置步骤

1. 通过 [@BotFather](https://t.me/BotFather) 创建一个 Telegram Bot
2. 复制 Bot Token
3. 在管理面板的 Telegram 设置中输入 Token
4. 在用户设置中添加 Telegram 通知渠道，填入你的 Chat ID

### 获取 Chat ID

给你的 Bot 发送一条消息，然后访问：
```
https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates
```
在响应中找到 `chat.id` 字段。

## 国际化（i18n）

Bonds 前后端均支持英文和中文：

- **前端**：React i18next，使用 `en.json` 和 `zh.json` 语言文件
- **后端**：内嵌 JSON 语言文件，通过 `Accept-Language` 请求头解析

语言根据浏览器设置自动检测，用户也可手动切换。

## 用户邀请

邀请他人加入你的账户，支持权限控制：

| 权限级别 | 值 | 访问范围 |
|---------|-----|---------|
| 管理者 | 100 | Vault 管理的完全访问权限 |
| 编辑者 | 200 | 可创建和编辑联系人 |
| 查看者 | 300 | 只读访问 |

邀请通过邮件发送，包含唯一令牌链接，7 天内有效。

## 货币

Bonds 包含全面的货币表（160+ 种货币），用于追踪债务和礼物等财务数据。货币关联到账户，可通过个性化设置管理。

## 历法支持

Bonds 支持多种历法系统：

- **公历** — 标准历法（默认）
- **农历** — 传统中国农历，基于 `6tail/lunar-go`

历法系统使用转换器接口设计，便于扩展支持其他历法类型。
